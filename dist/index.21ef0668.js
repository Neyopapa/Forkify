var t,r,n,i,o,a,s,c,u,l,d,p,f,h,g,v,m,y,b,_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function w(t){return t&&t.__esModule?t.default:t}var k={},E={},S=_.parcelRequire3a11;null==S&&((S=function(t){if(t in k)return k[t].exports;if(t in E){var r=E[t];delete E[t];var n={id:t,exports:{}};return k[t]=n,r.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,r){E[t]=r},_.parcelRequire3a11=S);var O={},j={},$=function(t){return t&&t.Math===Math&&t};j=$("object"==typeof globalThis&&globalThis)||$("object"==typeof window&&window)||$("object"==typeof self&&self)||$("object"==typeof _&&_)||function(){return this}()||j||Function("return this")();var L={},F={};L=!(F=function(t){try{return!!t()}catch(t){return!0}})(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]});var M={},x={};x=!F(function(){var t=(function(){}).bind();return"function"!=typeof t||t.hasOwnProperty("prototype")});var P=Function.prototype.call;M=x?P.bind(P):function(){return P.apply(P,arguments)};var T={}.propertyIsEnumerable,q=Object.getOwnPropertyDescriptor;a=q&&!T.call({1:2},1)?function(t){var r=q(this,t);return!!r&&r.enumerable}:T;var I={};I=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}};var H={},N={},A={},C=Function.prototype,D=C.call,U=x&&C.bind.bind(D,D),R={},W=(A=x?U:function(t){return function(){return D.apply(t,arguments)}})({}.toString),z=A("".slice);R=function(t){return z(W(t),8,-1)};var G=Object,B=A("".split);N=F(function(){return!G("z").propertyIsEnumerable(0)})?function(t){return"String"===R(t)?B(t,""):G(t)}:G;var K={},J={};J=function(t){return null==t};var V=TypeError;K=function(t){if(J(t))throw V("Can't call method on "+t);return t},H=function(t){return N(K(t))};var Y={},Q={},X={},Z={},ee={},et="object"==typeof document&&document.all,er=(ee={all:et,IS_HTMLDDA:void 0===et&&void 0!==et}).all;Z=ee.IS_HTMLDDA?function(t){return"function"==typeof t||t===er}:function(t){return"function"==typeof t};var en=ee.all;X=ee.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:Z(t)||t===en}:function(t){return"object"==typeof t?null!==t:Z(t)};var ei={},eo={};eo=function(t,r){var n;return arguments.length<2?(n=j[t],Z(n)?n:void 0):j[t]&&j[t][r]};var ea={};ea=A({}.isPrototypeOf);var es={},ec={},eu={},el={};el="undefined"!=typeof navigator&&String(navigator.userAgent)||"";var ed=j.process,ep=j.Deno,ef=ed&&ed.versions||ep&&ep.version,eh=ef&&ef.v8;eh&&(c=(s=eh.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!c&&el&&(!(s=el.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=el.match(/Chrome\/(\d+)/))&&(c=+s[1]),eu=c;var eg=j.String;es=(ec=!!Object.getOwnPropertySymbols&&!F(function(){var t=Symbol("symbol detection");return!eg(t)||!(Object(t) instanceof Symbol)||!Symbol.sham&&eu&&eu<41}))&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var ev=Object;ei=es?function(t){return"symbol"==typeof t}:function(t){var r=eo("Symbol");return Z(r)&&ea(r.prototype,ev(t))};var em={},ey={},eb={},e_=String;eb=function(t){try{return e_(t)}catch(t){return"Object"}};var ew=TypeError;ey=function(t){if(Z(t))return t;throw ew(eb(t)+" is not a function")},em=function(t,r){var n=t[r];return J(n)?void 0:ey(n)};var ek={},eE=TypeError;ek=function(t,r){var n,i;if("string"===r&&Z(n=t.toString)&&!X(i=M(n,t))||Z(n=t.valueOf)&&!X(i=M(n,t))||"string"!==r&&Z(n=t.toString)&&!X(i=M(n,t)))return i;throw eE("Can't convert object to primitive value")};var eS={},eO={};eO=!1;var ej={},e$={},eL=Object.defineProperty;e$=function(t,r){try{eL(j,t,{value:r,configurable:!0,writable:!0})}catch(n){j[t]=r}return r};var eF="__core-js_shared__";ej=j[eF]||e$(eF,{}),(eS=function(t,r){return ej[t]||(ej[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.32.1",mode:eO?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.1/LICENSE",source:"https://github.com/zloirock/core-js"});var eM={},ex={},eP=Object;ex=function(t){return eP(K(t))};var eT=A({}.hasOwnProperty);eM=Object.hasOwn||function(t,r){return eT(ex(t),r)};var eq={},eI=0,eH=Math.random(),eN=A(1..toString);eq=function(t){return"Symbol("+(void 0===t?"":t)+")_"+eN(++eI+eH,36)};var eA=j.Symbol,eC=eS("wks"),eD=es?eA.for||eA:eA&&eA.withoutSetter||eq,eU=TypeError,eR=(eM(eC,t="toPrimitive")||(eC[t]=ec&&eM(eA,t)?eA[t]:eD("Symbol."+t)),eC[t]);Q=function(t,r){if(!X(t)||ei(t))return t;var n,i=em(t,eR);if(i){if(void 0===r&&(r="default"),n=M(i,t,r),!X(n)||ei(n))return n;throw eU("Can't convert object to primitive value")}return void 0===r&&(r="number"),ek(t,r)},Y=function(t){var r=Q(t,"string");return ei(r)?r:r+""};var eW={},ez={},eG=j.document,eB=X(eG)&&X(eG.createElement);ez=function(t){return eB?eG.createElement(t):{}},eW=!L&&!F(function(){return 7!==Object.defineProperty(ez("div"),"a",{get:function(){return 7}}).a});var eK=Object.getOwnPropertyDescriptor;o=L?eK:function(t,r){if(t=H(t),r=Y(r),eW)try{return eK(t,r)}catch(t){}if(eM(t,r))return I(!M(a,t,r),t[r])};var eJ={},eV={};eV=L&&F(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype});var eY={},eQ=String,eX=TypeError;eY=function(t){if(X(t))return t;throw eX(eQ(t)+" is not an object")};var eZ=TypeError,e0=Object.defineProperty,e1=Object.getOwnPropertyDescriptor,e2="enumerable",e3="configurable",e4="writable";u=L?eV?function(t,r,n){if(eY(t),r=Y(r),eY(n),"function"==typeof t&&"prototype"===r&&"value"in n&&e4 in n&&!n[e4]){var i=e1(t,r);i&&i[e4]&&(t[r]=n.value,n={configurable:e3 in n?n[e3]:i[e3],enumerable:e2 in n?n[e2]:i[e2],writable:!1})}return e0(t,r,n)}:e0:function(t,r,n){if(eY(t),r=Y(r),eY(n),eW)try{return e0(t,r,n)}catch(t){}if("get"in n||"set"in n)throw eZ("Accessors not supported");return"value"in n&&(t[r]=n.value),t},eJ=L?function(t,r,n){return u(t,r,I(1,n))}:function(t,r,n){return t[r]=n,t};var e7={},e9={},e8=Function.prototype,e5=L&&Object.getOwnPropertyDescriptor,e6=eM(e8,"name")&&(!L||L&&e5(e8,"name").configurable),te={},tt=A(Function.toString);Z(ej.inspectSource)||(ej.inspectSource=function(t){return tt(t)}),te=ej.inspectSource;var tr={},tn={},ti=j.WeakMap;tn=Z(ti)&&/native code/.test(String(ti));var to={},ta=eS("keys");to=function(t){return ta[t]||(ta[t]=eq(t))};var ts={};ts={};var tc="Object already initialized",tu=j.TypeError,tl=j.WeakMap;if(tn||ej.state){var tp=ej.state||(ej.state=new tl);tp.get=tp.get,tp.has=tp.has,tp.set=tp.set,l=function(t,r){if(tp.has(t))throw tu(tc);return r.facade=t,tp.set(t,r),r},d=function(t){return tp.get(t)||{}},p=function(t){return tp.has(t)}}else{var tf=to("state");ts[tf]=!0,l=function(t,r){if(eM(t,tf))throw tu(tc);return r.facade=t,eJ(t,tf,r),r},d=function(t){return eM(t,tf)?t[tf]:{}},p=function(t){return eM(t,tf)}}var th=(tr={set:l,get:d,has:p,enforce:function(t){return p(t)?d(t):l(t,{})},getterFor:function(t){return function(r){var n;if(!X(r)||(n=d(r)).type!==t)throw tu("Incompatible receiver, "+t+" required");return n}}}).enforce,tg=tr.get,tv=String,tm=Object.defineProperty,ty=A("".slice),tb=A("".replace),t_=A([].join),tw=L&&!F(function(){return 8!==tm(function(){},"length",{value:8}).length}),tk=String(String).split("String"),tE=e9=function(t,r,n){"Symbol("===ty(tv(r),0,7)&&(r="["+tb(tv(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(r="get "+r),n&&n.setter&&(r="set "+r),(!eM(t,"name")||e6&&t.name!==r)&&(L?tm(t,"name",{value:r,configurable:!0}):t.name=r),tw&&n&&eM(n,"arity")&&t.length!==n.arity&&tm(t,"length",{value:n.arity});try{n&&eM(n,"constructor")&&n.constructor?L&&tm(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=th(t);return eM(i,"source")||(i.source=t_(tk,"string"==typeof r?r:"")),t};Function.prototype.toString=tE(function(){return Z(this)&&tg(this).source||te(this)},"toString"),e7=function(t,r,n,i){i||(i={});var o=i.enumerable,a=void 0!==i.name?i.name:r;if(Z(n)&&e9(n,a,i),i.global)o?t[r]=n:e$(r,n);else{try{i.unsafe?t[r]&&(o=!0):delete t[r]}catch(t){}o?t[r]=n:u(t,r,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return t};var tS={},tO={},tj={},t$={},tL={},tF={},tM=Math.ceil,tx=Math.floor;tF=Math.trunc||function(t){var r=+t;return(r>0?tx:tM)(r)},tL=function(t){var r=+t;return r!=r||0===r?0:tF(r)};var tP=Math.max,tT=Math.min;t$=function(t,r){var n=tL(t);return n<0?tP(n+r,0):tT(n,r)};var tq={},tI={},tH=Math.min;tI=function(t){return t>0?tH(tL(t),9007199254740991):0},tq=function(t){return tI(t.length)};var tN=function(t){return function(r,n,i){var o,a=H(r),s=tq(a),c=t$(i,s);if(t&&n!=n){for(;s>c;)if((o=a[c++])!=o)return!0}else for(;s>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}},tA={includes:tN(!0),indexOf:tN(!1)}.indexOf,tC=A([].push);tj=function(t,r){var n,i=H(t),o=0,a=[];for(n in i)!eM(ts,n)&&eM(i,n)&&tC(a,n);for(;r.length>o;)eM(i,n=r[o++])&&(~tA(a,n)||tC(a,n));return a};var tD=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype");f=Object.getOwnPropertyNames||function(t){return tj(t,tD)},h=Object.getOwnPropertySymbols;var tU=A([].concat);tO=eo("Reflect","ownKeys")||function(t){var r=f(eY(t));return h?tU(r,h(t)):r},tS=function(t,r,n){for(var i=tO(r),a=0;a<i.length;a++){var s=i[a];eM(t,s)||n&&eM(n,s)||u(t,s,o(r,s))}};var tR={},tW=/#|\.prototype\./,tz=function(t,r){var n=tB[tG(t)];return n===tJ||n!==tK&&(Z(r)?F(r):!!r)},tG=tz.normalize=function(t){return String(t).replace(tW,".").toLowerCase()},tB=tz.data={},tK=tz.NATIVE="N",tJ=tz.POLYFILL="P";tR=tz,O=function(t,r){var n,i,a,s,c,u=t.target,l=t.global,d=t.stat;if(n=l?j:d?j[u]||e$(u,{}):(j[u]||{}).prototype)for(i in r){if(s=r[i],a=t.dontCallGetSet?(c=o(n,i))&&c.value:n[i],!tR(l?i:u+(d?".":"#")+i,t.forced)&&void 0!==a){if(typeof s==typeof a)continue;tS(s,a)}(t.sham||a&&a.sham)&&eJ(s,"sham",!0),e7(n,i,s,t)}};var tV={},tY={},tQ=Function.prototype,tX=tQ.apply,tZ=tQ.call;tY="object"==typeof Reflect&&Reflect.apply||(x?tZ.bind(tX):function(){return tZ.apply(tX,arguments)});var t0={},t1={},t2=(t1=function(t){if("Function"===R(t))return A(t)})(t1.bind);t0=function(t,r){return ey(t),void 0===r?t:x?t2(t,r):function(){return t.apply(r,arguments)}};var t3={};t3=eo("document","documentElement");var t4={};t4=A([].slice);var t7={},t9=TypeError;t7=function(t,r){if(t<r)throw t9("Not enough arguments");return t};var t8={};t8=/(?:ipad|iphone|ipod).*applewebkit/i.test(el);var t5={};t5="process"===R(j.process);var t6=j.setImmediate,re=j.clearImmediate,rt=j.process,rr=j.Dispatch,rn=j.Function,ri=j.MessageChannel,ro=j.String,ra=0,rs={},rc="onreadystatechange";F(function(){g=j.location});var ru=function(t){if(eM(rs,t)){var r=rs[t];delete rs[t],r()}},rl=function(t){return function(){ru(t)}},rd=function(t){ru(t.data)},rp=function(t){j.postMessage(ro(t),g.protocol+"//"+g.host)};t6&&re||(t6=function(t){t7(arguments.length,1);var r=Z(t)?t:rn(t),n=t4(arguments,1);return rs[++ra]=function(){tY(r,void 0,n)},v(ra),ra},re=function(t){delete rs[t]},t5?v=function(t){rt.nextTick(rl(t))}:rr&&rr.now?v=function(t){rr.now(rl(t))}:ri&&!t8?(y=(m=new ri).port2,m.port1.onmessage=rd,v=t0(y.postMessage,y)):j.addEventListener&&Z(j.postMessage)&&!j.importScripts&&g&&"file:"!==g.protocol&&!F(rp)?(v=rp,j.addEventListener("message",rd,!1)):v=rc in ez("script")?function(t){t3.appendChild(ez("script"))[rc]=function(){t3.removeChild(this),ru(t)}}:function(t){setTimeout(rl(t),0)});var rf=(tV={set:t6,clear:re}).clear;O({global:!0,bind:!0,enumerable:!0,forced:j.clearImmediate!==rf},{clearImmediate:rf});var rh=tV.set,rg={},rv={};rv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version;var rm=j.Function,ry=/MSIE .\./.test(el)||rv&&((r=j.Bun.version.split(".")).length<3||"0"===r[0]&&(r[1]<3||"3"===r[1]&&"0"===r[2]));rg=function(t,r){var n=r?2:1;return ry?function(i,o){var a=t7(arguments.length,1)>n,s=Z(i)?i:rm(i),c=a?t4(arguments,n):[],u=a?function(){tY(s,this,c)}:s;return r?t(u,o):t(u)}:t};var rb=j.setImmediate?rg(rh,!1):rh;O({global:!0,bind:!0,enumerable:!0,forced:j.setImmediate!==rb},{setImmediate:rb});var r_=function(t){var r,n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,r,n){t[r]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,r,n){return Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(t){l=function(t,r,n){return t[r]=n}}function d(t,n,i,a){var s,c,u=Object.create((n&&n.prototype instanceof m?n:m).prototype);return o(u,"_invoke",{value:(s=new L(a||[]),c=f,function(n,o){if(c===h)throw Error("Generator is already running");if(c===g){if("throw"===n)throw o;return{value:r,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===r)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=r,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),v;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,v;var c=s.arg;return c?c.done?(i[n.resultName]=c.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=r),i.delegate=null,v):c:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,v)}(a,s);if(u){if(u===v)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===f)throw c=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=h;var l=p(t,i,s);if("normal"===l.type){if(c=s.done?g:"suspendedYield",l.arg===v)continue;return{value:l.arg,done:s.done}}"throw"===l.type&&(c=g,s.method="throw",s.arg=l.arg)}})}),u}function p(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var f="suspendedStart",h="executing",g="completed",v={};function m(){}function y(){}function b(){}var _={};l(_,s,function(){return this});var w=Object.getPrototypeOf,k=w&&w(w(F([])));k&&k!==n&&i.call(k,s)&&(_=k);var E=b.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function O(t,r){var n;o(this,"_invoke",{value:function(o,a){function s(){return new r(function(n,s){!function n(o,a,s,c){var u=p(t[o],t,a);if("throw"===u.type)c(u.arg);else{var l=u.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?r.resolve(d.__await).then(function(t){n("next",t,s,c)},function(t){n("throw",t,s,c)}):r.resolve(d).then(function(t){l.value=t,s(l)},function(t){return n("throw",t,s,c)})}}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function $(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=r,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===y||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(O.prototype),l(O.prototype,c,function(){return this}),t.AsyncIterator=O,t.async=function(r,n,i,o,a){void 0===a&&(a=Promise);var s=new O(d(r,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),l(E,u,"Generator"),l(E,s,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=Object(t),n=[];for(var i in r)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in r)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=F,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach($),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return c.type="throw",c.arg=t,n.next=i,o&&(n.method="next",n.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],c=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(u&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else if(l){if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return(s.type=t,s.arg=r,a)?(this.method="next",this.next=a.finallyLoc,v):this.complete(s)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),$(n),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;$(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:F(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=r),v}},t}({});try{regeneratorRuntime=r_}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r_:Function("r","regeneratorRuntime = r")(r_)}const rw="https://forkify-api.herokuapp.com/api/v2/recipes/",rk="e02fa5fb-cde3-4d06-8d51-58bee6a48397",rE=async function(t,r){try{let n=r?fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}):fetch(t),i=await Promise.race([n,new Promise(function(t,r){setTimeout(function(){r(Error("Request took too long! Timeout after 10 second"))},1e4)})]),o=await i.json();if(!i.ok)throw Error(`${o.message} ${i.status}`);return o}catch(t){throw t}},rS={recipe:{},search:{query:"",results:[],page:1,resultsPerPage:10},bookmarks:[]},rO=function(t){let{recipe:r}=t.data;return{id:r.id,title:r.title,publisher:r.publisher,sourceUrl:r.source_url,image:r.image_url,servings:r.servings,cookingTime:r.cooking_time,ingredients:r.ingredients,...r.key&&{key:r.key}}},rj=async function(t){try{let r=await rE(`${rw}${t}?Key=${rk}`);rS.recipe=rO(r),rS.bookmarks.some(r=>r.id===t)?rS.recipe.bookmarked=!0:rS.recipe.bookmarked=!1,console.log(rS.recipe)}catch(t){throw console.error(`${t} 💥💥💥`),t}},r$=async function(t){try{rS.search.query=t;let r=await rE(`${rw}search=${t}&Key=${rk}`);rS.search.results=r.data.recipes.map(t=>({id:t.id,title:t.title,publisher:t.publisher,image:t.image_url,...t.key&&{key:t.key}})),rS.search.page=1}catch(t){throw console.error(`${t} 💥💥💥`),t}},rL=function(t=rS.search.page){rS.search.page=t;let r=(t-1)*rS.search.resultsPerPage,n=t*rS.search.resultsPerPage;return rS.search.results.slice(r,n)},rF=function(t){rS.recipe.ingredients.forEach(r=>{r.quantity=r.quantity*t/rS.recipe.servings}),rS.recipe.servings=t},rM=function(){localStorage.setItem("bookmarks",JSON.stringify(rS.bookmarks))},rx=function(t){rS.bookmarks.push(t),t.id===rS.recipe.id&&(rS.recipe.bookmarked=!0),rM()},rP=function(t){let r=rS.bookmarks.findIndex(r=>r.id===t);rS.bookmarks.splice(r,1),t===rS.recipe.id&&(rS.recipe.bookmarked=!1),rM()};!function(){let t=localStorage.getItem("bookmarks");t&&(rS.bookmarks=JSON.parse(t))}();const rT=async function(t){try{let r=Object.entries(t).filter(t=>t[0].startsWith("ingredient")&&""!==t[1]).map(t=>{let r=t[1].split(",").map(t=>t.trim());if(3!==r)throw Error("Wrong ingredient format! Please use the correct format");let[n,i,o]=r;return{quantity:n?+n:null,unit:i,description:o}}),n={title:t.title,source_url:t.sourceUrl,image_url:t.image,publisher:t.publisher,cooking_time:t.cookingTime,servings:t.servings,ingredients:r},i=await rE(`${rw}?Key=${rk}`,n);rS.recipe=rO(i),rx(rS.recipe)}catch(t){throw t}};var rq={};rq=new URL(S("27Lyk").resolve("eyyUD"),import.meta.url).toString();class rI{_data;render(t,r=!0){if(!t||Array.isArray(t)&&0===t.length)return this.renderError();this._data=t;let n=this._generateMarkUp();if(!r)return n;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}update(t){this._data=t;let r=this._generateMarkUp(),n=document.createRange().createContextualFragment(r),i=Array.from(n.querySelectorAll("*")),o=Array.from(this._parentElement.querySelectorAll("*"));i.forEach((t,r)=>{let n=o[r];console.log(n,t.isEqualNode(n)),t.isEqualNode(n)||t.firstChild?.nodeValue.trim()===""||(console.log("\uD83D\uDCA5",t.firstChild?.nodeValue.trim()),n.textContent=t.textContent),t.isEqualNode(n)||Array.from(t.attributes).forEach(t=>n.setAttribute(t.name,t.value))})}_clear(){this._parentElement.innerHTML=""}renderSpinner(){let t=`
      <div class="spinner">
              <svg>
                <use href="${w(rq)}#icon-loader"></use>
              </svg>
            </div>
      `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}renderError(t=this._errorMessage){let r=`
    <div class="error">
              <div>
                <svg>
                  <use href="${w(rq)}#icon-alert-triangle"></use>
                </svg>
              </div>
              <p>${t}</p>
            </div>
    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",r)}renderMessage(t=this._message){let r=`
    <div class="message">
              <div>
                <svg>
                  <use href="${w(rq)}#icon-smile"></use>
                </svg>
              </div>
              <p>${t}</p>
            </div>
    `;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",r)}}(Fraction=function(t,r){if(void 0!==t&&r)"number"==typeof t&&"number"==typeof r?(this.numerator=t,this.denominator=r):"string"==typeof t&&"string"==typeof r&&(this.numerator=parseInt(t),this.denominator=parseInt(r));else if(void 0===r){if("number"==typeof(num=t))this.numerator=num,this.denominator=1;else if("string"==typeof num){var n,i,o=num.split(" ");if(o[0]&&(n=o[0]),o[1]&&(i=o[1]),n%1==0&&i&&i.match("/"))return new Fraction(n).add(new Fraction(i));if(!n||i)return;if("string"==typeof n&&n.match("/")){var a=n.split("/");this.numerator=a[0],this.denominator=a[1]}else{if("string"==typeof n&&n.match("."))return new Fraction(parseFloat(n));this.numerator=parseInt(n),this.denominator=1}}}this.normalize()}).prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var t=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),r=this.numerator%this.denominator,n=this.denominator,i=[];return 0!=t&&i.push(t),0!=r&&i.push((0===t?r:Math.abs(r))+"/"+n),i.length>0?i.join(" "):0},Fraction.prototype.rescale=function(t){return this.numerator*=t,this.denominator*=t,this},Fraction.prototype.add=function(t){var r=this.clone();return t=t instanceof Fraction?t.clone():new Fraction(t),td=r.denominator,r.rescale(t.denominator),t.rescale(td),r.numerator+=t.numerator,r.normalize()},Fraction.prototype.subtract=function(t){var r=this.clone();return t=t instanceof Fraction?t.clone():new Fraction(t),td=r.denominator,r.rescale(t.denominator),t.rescale(td),r.numerator-=t.numerator,r.normalize()},Fraction.prototype.multiply=function(t){var r=this.clone();if(t instanceof Fraction)r.numerator*=t.numerator,r.denominator*=t.denominator;else{if("number"!=typeof t)return r.multiply(new Fraction(t));r.numerator*=t}return r.normalize()},Fraction.prototype.divide=function(t){var r=this.clone();if(t instanceof Fraction)r.numerator*=t.denominator,r.denominator*=t.numerator;else{if("number"!=typeof t)return r.divide(new Fraction(t));r.denominator*=t}return r.normalize()},Fraction.prototype.equals=function(t){t instanceof Fraction||(t=new Fraction(t));var r=this.clone().normalize(),t=t.clone().normalize();return r.numerator===t.numerator&&r.denominator===t.denominator},Fraction.prototype.normalize=(n=function(t){return"number"==typeof t&&(t>0&&t%1>0&&t%1<1||t<0&&t%-1<0&&t%-1>-1)},i=function(t,r){if(!r)return Math.round(t);var n=Math.pow(10,r);return Math.round(t*n)/n},function(){if(n(this.denominator)){var t=i(this.denominator,9),r=Math.pow(10,t.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*r),this.numerator*=r}if(n(this.numerator)){var t=i(this.numerator,9),r=Math.pow(10,t.toString().split(".")[1].length);this.numerator=Math.round(this.numerator*r),this.denominator*=r}var o=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=o,this.denominator/=o,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}),Fraction.gcf=function(t,r){var n=[],i=Fraction.primeFactors(t),o=Fraction.primeFactors(r);return(i.forEach(function(t){var r=o.indexOf(t);r>=0&&(n.push(t),o.splice(r,1))}),0===n.length)?1:function(){var t,r=n[0];for(t=1;t<n.length;t++)r*=n[t];return r}()},Fraction.primeFactors=function(t){for(var r=Math.abs(t),n=[],i=2;i*i<=r;)r%i==0?(n.push(i),r/=i):i++;return 1!=r&&n.push(r),n},b=Fraction;class rH extends rI{_parentElement=document.querySelector(".recipe");_errorMessage="We could not find that recipe. please try another one!";_message="";addHandlerRender(t){["hashchange","load"].forEach(r=>window.addEventListener(r,t))}addHandlerUpdateServings(t){this._parentElement.addEventListener("click",function(r){let n=r.target.closest(".btn--update-servings");if(!n)return;let{updateTo:i}=n.dataset;+i>0&&t(+i)})}addHandlerAddBookmark(t){this._parentElement.addEventListener("click",function(r){let n=r.target.closest(".btn--bookmark");n&&t()})}_generateMarkUp(){return`
    <figure class="recipe__fig">
          <img src="${this._data.image}" alt="${this._data.title}" class="recipe__img" />
          <h1 class="recipe__title">
            <span>${this._data.title}</span>
          </h1>
        </figure>

        <div class="recipe__details">
          <div class="recipe__info">
            <svg class="recipe__info-icon">
              <use href="${w(rq)}#icon-clock"></use>
            </svg>
            <span class="recipe__info-data recipe__info-data--minutes">${this._data.cookingTime}</span>
            <span class="recipe__info-text">minutes</span>
          </div>
          <div class="recipe__info">
            <svg class="recipe__info-icon">
              <use href="${w(rq)}#icon-users"></use>
            </svg>
            <span class="recipe__info-data recipe__info-data--people">${this._data.servings}</span>
            <span class="recipe__info-text">servings</span>

            <div class="recipe__info-buttons">
              <button class="btn--tiny btn--update-servings" data-update-to="${this._data.servings-1}">
                <svg>
                  <use href="${w(rq)}#icon-minus-circle"></use>
                </svg>
              </button>
              <button class="btn--tiny btn--update-servings" data-update-to="${this._data.servings+1}">
                <svg>
                  <use href="${w(rq)}#icon-plus-circle"></use>
                </svg>
              </button>
            </div>
          </div>

          <div class="recipe__user-generated ${this._data.key?"":"hidden"}">
            <svg>
              <use href="${w(rq)}#icon-user"></use>
            </svg>
          </div>
          <button class="btn--round btn==bookmark">
            <svg class="">
              <use href="${w(rq)}#icon-bookmark${this._data.bookmarked?"-fill":""}"></use>
            </svg>
          </button>
        </div>

        <div class="recipe__ingredients">
          <h2 class="heading--2">Recipe ingredients</h2>
          <ul class="recipe__ingredient-list">
          ${this._data.ingredients.map(this._generateMarkUpIngredient).join("")}
        </div>
        <div class="recipe__directions">
          <h2 class="heading--2">How to cook it</h2>
          <p class="recipe__directions-text">
            This recipe was carefully designed and tested by
            <span class="recipe__publisher">${this._data.publisher}</span>. Please check out
            directions at their website.
          </p>
          <a
            class="btn--small recipe__btn"
            href="${this._data.sourceUrl}"
            target="_blank"
          >
            <span>Directions</span>
            <svg class="search__icon">
              <use href="${w(rq)}#icon-arrow-right"></use>
            </svg>
          </a>
        </div>
    `}_generateMarkUpIngredient(t){return`
    <li class="recipe__ingredient">
      <svg class="recipe__icon">
        <use href="src/img/icons.svg#icon-check"></use>
      </svg>
      <div class="recipe__quantity">${t.quantity?new b(t.quantity).toString():""}</div>
      <div class="recipe__description">
        <span class="recipe__unit">${t.unit}</span>
        ${t.description}
      </div>
    </li>
    `}}var rN=new rH;class rA{_parentEl=document.querySelector(".search");getQuery(){let t=this._parentEl.querySelector(".search__field").value;return this._clearInput(),t}_clearInput(){this._parentEl.querySelector(".search__field").value}addHandlerSearch(t){this._parentEl.addEventListener("submit",function(r){r.preventDefault(),t()})}}var rC=new rA,rD=new class extends rI{_parentElement="";_generateMarkupPreveiw(){let t=window.location.hash.slice(1);return`
    <li class="preview">
            <a class="preview__link ${this._data.id===t?"preview__link--active":""}" href="#${this._data.id}">
              <figure class="preview__fig">
                <img src="${this._data.image} alt=${this._data.title}/>
              </figure>
              <div class="preview__data">
                <h4 class="preview__title">${this._data.title}</h4>
                <p class="preview__publisher">${this._data.publisher}</p>
              
              <div class="preview__user-generated ${this._data.key?"":"hidden"}">
            <svg>
              <use href="${w(rq)}#icon-user"></use>
            </svg>
            </div>
          </div>
            </a>
          </li>
    `}};class rU extends rI{_parentElement=document.querySelector(".results");_errorMessage="No recipe found for your query! please try again later ;)";_message="";_generateMarkup(){return console.log(this._data),this._data.map(t=>rD.render(t,!1)).join()}}var rR=new rU;class rW extends rI{_parentElement=document.querySelector(".pagination");addHandlerClick(t){this._parentElement.addEventListener("click",function(r){let n=r.target.closest(".btn--inline");if(!n)return;let i=+n.dataset.goTo;console.log(i),t()})}_generateMarkUp(){let t=this._data.pages,r=Math.ceil(this._data.results.length/this._data.resultsPerPage);return(console.log(r),1===t&&r>1)?`
      <button data-goto="${t+1}" class="btn--inline pagination__btn--next">
            <span>${t+1}</span>
            <svg class="search__icon">
              <use href="${w(rq)}#icon-arrow-right"></use>
            </svg>
          </button>
      `:t===r&&r>1?`
      <button data-goto="${t-1}" class="btn--inline pagination__btn--prev">
            <svg class="search__icon">
              <use href="${w(rq)}#icon-arrow-left"></use>
            </svg>
            <span>Page ${t-1}</span>
          </button>
      `:t<r?`
      <button data-goto="${t-1}" class="btn--inline pagination__btn--prev">
            <svg class="search__icon">
              <use href="${w(rq)}#icon-arrow-left"></use>
            </svg>
            <span>Page ${t-1}</span>
          </button>
          <button data-goto="${t+1}" class="btn--inline pagination__btn--next">
          <span>${t+1}</span>
          <svg class="search__icon">
            <use href="${w(rq)}#icon-arrow-right"></use>
          </svg>
        </button>
      `:""}}var rz=new rW;class rG extends rI{_parentElement=document.querySelector(".bookmarks__list");_errorMessage=" No bookmarks yet. Find a nice recipe and bookmark it :)";_message="";addHandler(t){window.addEventListener("load",t)}_generateMarkup(){return console.log(this._data),this._data.map(t=>rD.render(t,!1)).join()}}var rB=new rG;class rK extends rI{_parentElement=document.querySelector(".upload");_message="Recipe was successfully uploaded";_window=document.querySelector(".add-recipe-window");_overlay=document.querySelector(".overlay");_btnOpen=document.querySelector(".nav__btn--add-recipe");_btnClose=document.querySelector(".btn--close-modal");constructo(){super(),this._addHandlerShowWindow(),this._addHandlerHideWindow()}toggleWindow(){this._overlay.classList.toggle("hidden"),this._window.classList.toggle("hidden")}_addHandlerShowWindow(){this._btnOpen.addEventListener("click",this.toggleWindow.bind(this))}_addHandlerHideWindow(){this._btnClose.addEventListener("click",this.toggleWindow.bind(this)),this._overlay.addEventListener("click",this.toggleWindow.bind(this))}addHandlerUpload(t){this._parentElement.addEventListener("submit",function(){e.preventDefault();let r=[...new FormData(this)],n=Object.fromEntries(r);t(n)})}_generateMarkUp(){}}var rJ=new rK;const rV=async function(){try{let t=window.location.hash.slice(1);if(!t)return;rN.renderSpinner(),rR.update(rL()),rB.update(rS.bookmarks),await rj(t),rN.render(rS.recipe)}catch(t){console.log(t),rN.renderError()}},rY=async function(){try{rR.renderSpinner();let t=rC.getQuery();if(!t)return;await r$(t),rR.render(rL()),rz.render(rS.search)}catch(t){console.log(t)}},rQ=async function(t){try{rJ.renderSpinner(),await rT(t),console.log(rS.recipe),rN.render(rS.recipe),rJ.renderMessage(),rB.render(rS.bookmarks),window.history.pushState(null,"",`#${rS.recipe.id}`).setTimeout(function(){rJ.toggleWindow()},2500)}catch(t){console.log("BOOM",t),rJ.renderError(t.message)}};rB.addHandlerRender(function(){rB.render(rS.bookmarks)}),rN.addHandlerRender(rV),rN.addHandlerUpdateServings(function(){rF(newServings),rN.update(rS.recipe)}),rN.addHandlerAddBookmark(function(){rS.recipe.bookmarked?rP(rS.recipe):rx(rS.recipe),rN.update(rS.recipe),rB.render(rS.bookmarks)}),rC.addHandlerSearch(rY),rz.addHandlerClick(function(t){rR.render(rL(t)),rz.render(rS.search)}),rJ.addHandlerUpload(rQ);
//# sourceMappingURL=index.21ef0668.js.map
